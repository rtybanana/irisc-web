{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/registers.vue?90e0","webpack:///./src/components/repl.vue?be11","webpack:///./src/components/tutorial.vue?1377","webpack:///./src/components/memory.vue?a6d6","webpack:///./src/components/editor.vue?05a4","webpack:///./src/constants/operations.ts","webpack:///./src/emulator.vue?41fb","webpack:///./src/components/editor.vue?b1da","webpack:///./src/constants/registers.ts","webpack:///./src/constants/conditions.ts","webpack:///./src/constants/shifts.ts","webpack:///./src/constants/flags.ts","webpack:///./src/constants/index.ts","webpack:///./src/constants/tutorial.ts","webpack:///./src/assets/bitset.ts","webpack:///./src/state/emulator.ts","webpack:///./src/constants/directives.ts","webpack:///./src/classes/error.ts","webpack:///./src/classes/syntax/SyntaxNode.ts","webpack:///./src/classes/syntax/InstructionNode.ts","webpack:///./src/classes/syntax/DirectiveNode.ts","webpack:///./src/classes/syntax/LabelNode.ts","webpack:///./src/classes/syntax/FlexOperand.ts","webpack:///./src/classes/syntax/BiOperandNode.ts","webpack:///./src/classes/syntax/TriOperandNode.ts","webpack:///./src/classes/syntax/BranchNode.ts","webpack:///./src/classes/assembler.ts","webpack:///./src/assets/functions.ts","webpack:///./src/components/editor.vue","webpack:///./src/components/editor.vue?715c","webpack:///./src/components/editor.vue?af60","webpack:///./src/components/instruction.vue?f51c","webpack:///./src/components/instruction.vue","webpack:///./src/components/instruction.vue?33d0","webpack:///./src/components/instruction.vue?6f57","webpack:///./src/components/memory.vue?143b","webpack:///./src/components/memory.vue","webpack:///./src/components/memory.vue?fba6","webpack:///./src/components/memory.vue?a1d8","webpack:///./src/components/registers.vue?2e7b","webpack:///./src/components/registers.vue","webpack:///./src/components/registers.vue?d916","webpack:///./src/components/registers.vue?5a44","webpack:///./src/components/repl.vue?9c08","webpack:///./src/components/repl.vue","webpack:///./src/components/repl.vue?70fd","webpack:///./src/components/repl.vue?913c","webpack:///./src/components/tutorial.vue?a793","webpack:///./src/components/tutorial.vue","webpack:///./src/components/tutorial.vue?cc09","webpack:///./src/components/tutorial.vue?6b14","webpack:///./src/classes/interpreter.ts","webpack:///./src/emulator.vue","webpack:///./src/emulator.vue?fab1","webpack:///./src/emulator.vue?b229","webpack:///./src/assets/prism-armv7.ts","webpack:///./src/main.ts","webpack:///./src/components/repl.vue?8d27","webpack:///./src/emulator.vue?c5c1","webpack:///./src/components/instruction.vue?3577"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Operation","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_m","staticStyle","on","$event","start","staticRenderFns","_v","hover","unhover","highlighter","model","callback","$$v","program","expression","stop","$emit","tooltip","title","_s","message","errors","_e","Register","opMap","AND","EOR","SUB","RSB","ADD","ADC","SBC","RSC","TST","TEQ","CMP","CMN","ORR","MOV","BIC","MVN","LDR","STR","BX","BL","B","Condition","regName","regMap","R0","R1","R2","R3","R4","R5","R6","R7","R8","R9","R10","R11","R12","SP","LR","PC","regTitle","regExplain","Shift","condMap","EQ","NE","CS","CC","MI","PL","VS","VC","HI","LS","GE","LT","GT","LE","AL","Flag","shiftMap","LSL","LSR","ASR","ROR","OperandType","flagName","N","Z","C","V","flagTitle","flagExplain","basics1","content","pages","ffs","Math","log2","fls","round","rotr","bitset","size","toString","padEnd","split","map","e","parseInt","Directive","observable","running","paused","step","delay","cpu","registers","Uint32Array","ArrayBuffer","observableRegisters","Array","fill","cpsr","memory","memstart","text","labels","previousPC","hoveredError","getters","textSize","currentInstruction","actions","instruction","pause","offset","reset","observeRegisters","setEntryPoint","hasLabel","setRegister","label","addError","error","console","log","hoverError","unhoverError","register","set","checkFlags","cond","bits","setFlags","op1","op2","operator","sign1","sign2","signr","result_ext","addInstruction","addLabel","address","undefined","clearMemory","statement","lineNumber","tokenIndex","Error","currentToken","_statement","_lineNumber","_currentToken","token","type","toUpperCase","base","reveresedToken","reverse","alias","findIndex","includes","imm","pow","parseImm","bottombit","topbit","_op","_cond","_setFlags","operation","modifier","condition","forceFlags","keys","find","suffix","substring","directiveMap","TEXT","DATA","GLOBAL","peekToken","directive","nextToken","hasToken","_identifier","_immShift","parseComma","parseRegOrImm","_Rm","_type","isReg","parseShift","REGISTER","IMMEDIATE","_Rs","_shiftType","flex","immBits","parseReg","parseShiftedImm","_shift","splitOpCode","_Rd","_flex","_Rn","parse","armv7","reduce","a","compile","lines","node","compileOne","line","load","nodes","Mode","Text","forEach","index","isText","isData","Data","identifier","debounce","fn","timeoutId","ms","args","clearTimeout","setTimeout","extend","components","PrismEditor","hovered","computed","methods","target","parentNode","className","errorIndex","dataset","highlit","tokens","match","highlightErrors","join","highlightExecuting","elements","filteredIndex","tokenString","executing","watch","component","_l","registerTip","untip","regstr","tip","cpsrTitle","cpsrExplain","flag","flagstr","computedTitle","computedDescription","props","msg","String","description","padStart","hexstr","reg","hexValue","pageData","domProps","page","state","execute","executed","executeBranch","executeBiOperand","executeTriOperand","deflex","shiftBy","unpack","Rm","Rs","immShift","isImm","shifted","shiftedByImm","applyFlexShift","amount","op","dest","src","to","editor","tutorial","alert","constructHelper","run","last","sleptfor","Promise","pattern","greedy","use","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.2020006e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registers.vue?vue&type=style&index=0&id=13055db6&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repl.vue?vue&type=style&index=0&id=b5048b5c&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutorial.vue?vue&type=style&index=0&id=50262af0&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memory.vue?vue&type=style&index=0&id=c5d0ddde&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=style&index=0&id=1ddabd88&scoped=true&lang=css&\"","export enum Operation {\r\n  // arithmetic operations\r\n  AND = 0,  EOR, SUB, RSB, ADD, ADC, SBC, RSC, TST, TEQ, CMP, CMN, ORR, MOV, BIC, MVN,\r\n\r\n  // load/store instructions\r\n  LDR = 16,  STR, \r\n\r\n  // branch instructions\r\n  B = 32,  BL, BX\r\n}\r\n\r\n/**\r\n * Mapping strings to Operations\r\n */\r\nexport const opMap: Record<string, Operation> = {\r\n  // arithmetic instructions\r\n  \"and\": Operation.AND,\r\n  \"eor\": Operation.EOR, \r\n  \"sub\": Operation.SUB,\r\n  \"rsb\": Operation.RSB,\r\n\r\n  \"add\": Operation.ADD,\r\n  \"adc\": Operation.ADC,\r\n  \"sbc\": Operation.SBC,\r\n  \"rsc\": Operation.RSC,\r\n\r\n  \"tst\": Operation.TST,\r\n  \"teq\": Operation.TEQ,\r\n  \"cmp\": Operation.CMP,\r\n  \"cmn\": Operation.CMN,\r\n\r\n  \"orr\": Operation.ORR,\r\n  \"mov\": Operation.MOV,\r\n  \"bic\": Operation.BIC,\r\n  \"mvn\": Operation.MVN,\r\n\r\n  //load/store instructions\r\n  \"ldr\": Operation.LDR,\r\n  \"str\": Operation.STR,\r\n\r\n  // branch instructions\r\n  \"bx\": Operation.BX,\r\n  \"bl\": Operation.BL, \r\n   \"b\": Operation.B \r\n};\r\n\r\nexport const opTitle: Record<Operation, string> = {\r\n  [Operation.AND]: \"Bitwise AND\",\r\n  [Operation.EOR]: \"Bitwise XOR\",\r\n  [Operation.SUB]: \"Subtraction\",\r\n  [Operation.RSB]: \"Reverse Subtraction\",\r\n  [Operation.ADD]: \"Addition\",\r\n  [Operation.ADC]: \"Add with Carry\",\r\n  [Operation.SBC]: \"Subtract with Carry\",\r\n  [Operation.RSC]: \"Reverse Subtraction with Carry\",\r\n  [Operation.TST]: \"Test\",\r\n  [Operation.TEQ]: \"Test Equivalence\",\r\n  [Operation.CMP]: \"Compare\",\r\n  [Operation.CMN]: \"Compare Negative\",\r\n  [Operation.ORR]: \"Bitwise OR\",\r\n  [Operation.MOV]: \"Move\",\r\n  [Operation.BIC]: \"Bit Clear\",\r\n  [Operation.MVN]: \"Move Negative\",\r\n  [Operation.LDR]: \"Load\",\r\n  [Operation.STR]: \"Store\",\r\n  [Operation.B]:   \"Branch\",\r\n  [Operation.BL]:  \"Branch and Link\",\r\n  [Operation.BX]:  \"Branch and Exchange\"\r\n};\r\n\r\nexport const opExplain: Record<Operation, string> = {\r\n  [Operation.AND]: \"Performs a bitwise AND operation and stores the result.\", \r\n  [Operation.EOR]: \"Performs a bitwise exclusive OR operation and stores the result.\", \r\n  [Operation.SUB]: \"Performs an arithmetic subtraction from left to right and stores the result.\", \r\n  [Operation.RSB]: \"Performs an arithmetic subtraction from right to left and stores the result.\",\r\n  [Operation.ADD]: \"Performs an arithmetic addition and stores the result.\", \r\n  [Operation.ADC]: \"???\",\r\n  [Operation.SBC]: \"???\", \r\n  [Operation.RSC]: \"???\",\r\n  [Operation.TST]: \"Performs a bitwise AND operation, sets the CPSR flags and discards the result.\",\r\n  [Operation.TEQ]: \"Performs a bitwise XOR operation, sets the CPSR flags and discards the result.\",\r\n  [Operation.CMP]: \"Performs an arithmetic subtraction, sets the CPSR flags and discards the result.\",\r\n  [Operation.CMN]: \"Performs an arithmetic addition, sets the CPSR flags and discards the result.\",\r\n  [Operation.ORR]: \"Performs a bitwise OR operation and stores the result.\",\r\n  [Operation.MOV]: \"Stores the second operand value in the destination register.\",\r\n  [Operation.BIC]: \"Performs a bitwise AND operation with the complement of the second operand.\",\r\n  [Operation.MVN]: \"Stores the additive inverse of the second operand value in the destination register.\",\r\n  [Operation.LDR]: \"Loads the data at the memory address in the source register into the destination register.\",\r\n  [Operation.STR]: \"Stores the data in the destination register into the memory address of the source register.\",\r\n  [Operation.B]:   \"Branches to the provided instruction address or label.\",\r\n  [Operation.BL]:  \"Branches to the provided instruction address or label and stores the return address.\",\r\n  [Operation.BX]:  \"Branches to the provided instruction address or label and optionally changes instruction type.\"\r\n};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container-fluid h-100\"},[_c('div',{staticClass:\"row h-100\"},[_c('div',{staticClass:\"col-12 h-100\",attrs:{\"id\":\"emulator\"}},[_vm._m(0),_c('div',{staticClass:\"row px-0\",staticStyle:{\"height\":\"calc(100% - 36px)\"}},[_c('div',{staticClass:\"col-5 col-md-4 col-lg-3 pr-1\"},[_c('registers')],1),_c('div',{staticClass:\"col-7 col-md-8 col-lg-9 pl-1\",staticStyle:{\"height\":\"calc(100% - 232px)\"}},[_c('div',{staticClass:\"row px-0 h-100\"},[_c('div',{staticClass:\"col-8 pr-1\"},[_c('editor',{on:{\"run\":function($event){return _vm.start($event)}}})],1),_c('div',{staticClass:\"col-4 pl-1\"},[_c('tutorial')],1)]),_c('div',{staticClass:\"row px-0 pt-2\",staticStyle:{\"height\":\"210px\"}},[_c('div',{staticClass:\"col-6 pr-1\"},[_c('instruction')],1),_c('div',{staticClass:\"col-6 pl-1\"},[_c('memory')],1)]),_vm._m(1)])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row px-0\",staticStyle:{\"height\":\"24px\"}},[_c('div',{staticClass:\"col-5 col-md-4 col-lg-3 pr-1 text-left\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"registers\")])]),_c('div',{staticClass:\"col-7 col-md-8 col-lg-9 pl-1 text-left\"},[_c('div',{staticClass:\"row px-0\"},[_c('div',{staticClass:\"col-8 pr-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"editor\")])]),_c('div',{staticClass:\"col-4 pl-1\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"tutorial\")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row px-0\",staticStyle:{\"height\":\"24px\"}},[_c('div',{staticClass:\"col-6 pr-1 text-left\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"assembler\")])]),_c('div',{staticClass:\"col-6 pl-1 text-left\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"memory\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prism-container pl-1 pr-0 py-1 position-relative\",on:{\"mouseover\":_vm.hover,\"mouseleave\":_vm.unhover}},[_c('prism-editor',{attrs:{\"id\":\"editor\",\"highlight\":_vm.highlighter,\"tab-size\":1,\"insert-spaces\":false,\"line-numbers\":\"\"},model:{value:(_vm.program),callback:function ($$v) {_vm.program=$$v},expression:\"program\"}}),_c('div',{attrs:{\"id\":\"buttons\"}},[_c('div',[_c('i',{staticClass:\"button red fas fa-stop mr-1 clickable\",on:{\"click\":_vm.stop}}),_c('i',{staticClass:\"button green fas fa-play mx-1 clickable\",on:{\"click\":function($event){return _vm.$emit('run', _vm.program)}}}),_c('i',{staticClass:\"button step fas fa-step-forward clickable\"})])]),_c('div',{attrs:{\"id\":\"error\"}},[_c('div',{staticClass:\"p-1\",staticStyle:{\"border-radius\":\"0.3rem\",\"background-color\":\"#191d21\"}},[(_vm.tooltip.title !== '')?[_c('div',{staticStyle:{\"color\":\"crimson\"}},[_vm._v(_vm._s(_vm.tooltip.title))]),_c('div',[_vm._v(_vm._s(_vm.tooltip.message))])]:(_vm.errors.length > 0)?_c('div',[_vm._v(\" \"+_vm._s(_vm.errors.length)+\" errors \")]):_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export enum Register {\r\n  R0, R1, R2, R3, R4, R5, R6, R7, R8, R9, R10, R11, R12, SP, LR, PC\r\n}\r\n\r\nexport const regName: string[] = [\r\n  \"r0\", \"r1\", \"r2\", \"r3\", \"r4\", \"r5\", \"r6\", \"r7\", \"r8\", \"r9\", \"r10\", \"r11\", \"r12\", \"sp\", \"lr\", \"pc\"\r\n]\r\n\r\nexport const regMap: Record<string, Register> = {\r\n  \"r0\":  Register.R0, \r\n  \"r1\":  Register.R1,   \r\n  \"r2\":  Register.R2,   \r\n  \"r3\":  Register.R3,\r\n  \"r4\":  Register.R4,   \r\n  \"r5\":  Register.R5,   \r\n  \"r6\":  Register.R6,   \r\n  \"r7\":  Register.R7,\r\n  \"r8\":  Register.R8,   \r\n  \"r9\":  Register.R9,  \r\n  \"r10\": Register.R10,  \r\n  \"r11\": Register.R11, \r\n  \"r12\": Register.R12,   \r\n  \"sp\":  Register.SP,   \r\n  \"lr\":  Register.LR,   \r\n  \"pc\":  Register.PC  \r\n};\r\n\r\nexport const regTitle: Record<Register, string> = {\r\n  [Register.R0]: \"Register 0\", \r\n  [Register.R1]: \"Register 1\",   \r\n  [Register.R2]: \"Register 2\",   \r\n  [Register.R3]: \"Register 3\",\r\n  [Register.R4]: \"Register 4\",   \r\n  [Register.R5]: \"Register 5\",   \r\n  [Register.R6]: \"Register 6\",   \r\n  [Register.R7]: \"Register 7\",\r\n  [Register.R8]: \"Register 8\",   \r\n  [Register.R9]: \"Register 9\",  \r\n  [Register.R10]: \"Register 10\",  \r\n  [Register.R11]: \"Register 11\", \r\n  [Register.R12]: \"Register 12\",   \r\n  [Register.SP]: \"Stack Pointer\",   \r\n  [Register.LR]: \"Link Register\",   \r\n  [Register.PC]: \"Program\"  \r\n};\r\n\r\nexport const regExplain: Record<Register, string> = {\r\n  [Register.R0]: \"General Purpose Register.\", \r\n  [Register.R1]: \"General Purpose Register.\", \r\n  [Register.R2]: \"General Purpose Register.\", \r\n  [Register.R3]: \"General Purpose Register.\", \r\n  [Register.R4]: \"General Purpose Register.\", \r\n  [Register.R5]: \"General Purpose Register.\", \r\n  [Register.R6]: \"General Purpose Register.\", \r\n  [Register.R7]: \"General Purpose Register.\", \r\n  [Register.R8]: \"General Purpose Register.\", \r\n  [Register.R9]: \"General Purpose Register.\", \r\n  [Register.R10]: \"General Purpose Register.\", \r\n  [Register.R11]: \"General Purpose Register.\",  \r\n  [Register.R12]: \"General Purpose Register.\", \r\n  [Register.SP]: \"The memory address for the top of the stack.\", \r\n  [Register.LR]: \"The return address of the current function.\", \r\n  [Register.PC]: \"The memory address of the next instruction.\", \r\n};","export enum Condition {\r\n  EQ, NE, CS, CC, MI, PL, VS, VC, HI, LS, GE, LT, GT, LE, AL\r\n}\r\n\r\nexport const condMap: Record<string, Condition> = {\r\n  \"eq\": Condition.EQ, \r\n  \"ne\": Condition.NE, \r\n  \"cs\": Condition.CS, \r\n  \"cc\": Condition.CC,\r\n  \"mi\": Condition.MI, \r\n  \"pl\": Condition.PL, \r\n  \"vs\": Condition.VS, \r\n  \"vc\": Condition.VC,\r\n  \"hi\": Condition.HI, \r\n  \"ls\": Condition.LS, \r\n  \"ge\": Condition.GE, \r\n  \"lt\": Condition.LT, \r\n  \"gt\": Condition.GT, \r\n  \"le\": Condition.LE, \r\n  \"al\": Condition.AL,   \r\n  \"\":   Condition.AL\r\n}","export enum Shift {\r\n  LSL, LSR, ASR, ROR\r\n}\r\n\r\nexport const shiftMap: Record<string, Shift> = {\r\n  \"lsl\":  Shift.LSL, \r\n  \"lsr\":  Shift.LSR,   \r\n  \"asr\":  Shift.ASR,   \r\n  \"ror\":  Shift.ROR\r\n};","export enum Flag {\r\n  N,  // negative\r\n  Z,  // zero\r\n  C,  // carry\r\n  V   // overflow\r\n}\r\n\r\nexport const flagName: Record<Flag, string> = {\r\n  [Flag.N]: \"N\", \r\n  [Flag.Z]: \"Z\", \r\n  [Flag.C]: \"C\", \r\n  [Flag.V]: \"V\"\r\n}\r\n\r\nexport const flagTitle: Record<Flag, string> = {\r\n  [Flag.N]: \"Negative Flag (N)\", \r\n  [Flag.Z]: \"Zero Flag (Z)\", \r\n  [Flag.C]: \"Carry Flag (C)\", \r\n  [Flag.V]: \"Overflow Flag (V)\"\r\n}\r\n\r\nexport const flagExplain: Record<Flag, string> = {\r\n  [Flag.N]: \"This bit is set when the signed result of the operation is negative.\", \r\n  [Flag.Z]: \"This bit is set when the result of the operation is equal to zero.\", \r\n  [Flag.C]: \"This bit is set when the operation results in an unsigned overflow.\", \r\n  [Flag.V]: \"This bit is set when the operation results in a signed overflow.\"\r\n}\r\n\r\nexport const setFlagsExplain: string[] = [\r\n  \"Do not set the CPSR flags based on the result of this instruction.\",\r\n  \"Set the CPSR flags based on the result of this instruction.\"\r\n];","export * from \"./operations\";\r\nexport * from \"./registers\";\r\nexport * from \"./conditions\";\r\nexport * from \"./shifts\";\r\nexport * from \"./flags\";\r\nexport { pages as tutorialPages, TTutorialPage } from \"./tutorial\";\r\n\r\nexport enum OperandType { REGISTER, IMMEDIATE }","export type TTutorialPage = {\r\n  title: string,\r\n  content: string\r\n}\r\n\r\nconst basics1: TTutorialPage = {\r\n  title: \"Basics : 0\",\r\n  content: // html\r\n  `\\\r\n    Welcome to <span class=\"irisc\">iRISC</span>.\r\n\r\n    Test content.\r\n  `\r\n}\r\n\r\nexport const pages = [\r\n  basics1\r\n]","/** Find first set (ffs)\r\n * Returns the zero-indexed position of the least significant, set bit\r\n * \r\n * @param n number to find the first set bit for\r\n * @returns a zero-indexed number representing the position of the first set bit\r\n */\r\nexport function ffs(n: number) : number {\r\n  n = 0xffffffff & n;\r\n  return Math.log2(n & -n);\r\n}\r\n\r\n/** Find last set (fls)\r\n * Returns the zero-indexed position of the most significant, set bit\r\n * \r\n * @param n number to find the last set bit for\r\n * @returns a zero-indexed number representing the position of the last set bit\r\n */\r\nexport function fls(n: number) : number {\r\n  n = 0xffffffff & n;\r\n  return Math.round(Math.log2(n));\r\n}\r\n\r\n/** Rotate right (rotr)\r\n * Performs the rotate right operation on $n by $d\r\n * \r\n * @param n the number to rotate\r\n * @param d the number to rotate by\r\n * @returns the rotated value\r\n */\r\nexport function rotr(n: number, d: number) : number {\r\n  return (n >> d)|(n << (32 - d));\r\n}\r\n\r\n/**\r\n * \r\n * @param n \r\n * @returns \r\n */\r\nexport function bitset(size: number, value: number = 0) : number[] {\r\n  return (value >>> 0).toString(2).padEnd(size, '0').split('').map(e => parseInt(e, 10));\r\n}","import Vue from 'vue';\r\nimport { Condition, Register, Flag } from \"@/constants\";\r\nimport { bitset } from \"@/assets/bitset\";\r\nimport { IriscError } from \"@/classes/error\";\r\nimport { TInstructionNode } from '@/classes/syntax/types';\r\n\r\n\r\ntype TMemory = {\r\n  memstart: number,\r\n  text: TInstructionNode[],\r\n  labels: Record<string, number>\r\n}\r\n\r\ntype TCPU = {\r\n  registers: Uint32Array,\r\n  observableRegisters: number[],\r\n  cpsr: boolean[]\r\n}\r\n\r\ntype TEmulatorState = {\r\n  running: boolean,\r\n  paused: boolean,\r\n  step: boolean,\r\n  delay: number,\r\n\r\n  cpu: TCPU,\r\n  memory: TMemory,\r\n\r\n  previousPC: number,\r\n\r\n  errors: IriscError[],\r\n  hoveredError: IriscError | null\r\n}\r\n\r\nconst data = Vue.observable<TEmulatorState>({\r\n  running: false,\r\n  paused: false,\r\n  step: false,\r\n  delay: 1000,\r\n\r\n  cpu: {\r\n    registers: new Uint32Array(new ArrayBuffer(4 * 16)),\r\n    observableRegisters: Array(16).fill(0),\r\n    cpsr: [false, false, false, false]\r\n  },\r\n\r\n  // memory data\r\n  memory: {\r\n    memstart: 0,\r\n    text: [],\r\n    labels: {}\r\n  },\r\n\r\n  previousPC: 0,\r\n\r\n  errors: [],\r\n  hoveredError: null\r\n});\r\n\r\nconst getters = {\r\n  running: () => data.running,\r\n  paused: () => data.paused,\r\n  step: () => data.step,\r\n  delay: () => data.delay,\r\n\r\n  registers: () => data.cpu.observableRegisters,\r\n  cpsr: () => data.cpu.cpsr,\r\n\r\n  // memory getters\r\n  memory: () => ({\r\n    ...data.memory,\r\n    textSize: data.memory.text.length\r\n  }),\r\n\r\n  currentInstruction: () => actions.instruction(data.previousPC),\r\n\r\n  errors: () => data.errors,\r\n  hoveredError: () => data.hoveredError\r\n}\r\n\r\nconst actions = {\r\n  start: function () {\r\n    data.running = true;\r\n  },\r\n\r\n  pause: function () {\r\n    data.paused = true;\r\n  },\r\n\r\n  // step: function ()\r\n\r\n  stop: function () {\r\n    data.running = false;\r\n    data.paused = false;\r\n  },\r\n\r\n  instruction: function (offset: number) : TInstructionNode {\r\n    return data.memory.text[(offset - data.memory.memstart) / 32];\r\n  },\r\n\r\n  reset: function () {\r\n    data.cpu.registers = new Uint32Array(new ArrayBuffer(4 * 16));\r\n    this.observeRegisters();\r\n\r\n    data.cpu.cpsr = Vue.observable([false, false, false, false]);\r\n  },\r\n\r\n  setEntryPoint: function () {\r\n    if (this.hasLabel(\"main\")) this.setRegister(Register.PC, this.label(\"main\"));\r\n  },\r\n\r\n  addError(error: IriscError) {\r\n    data.errors.push(error);\r\n\r\n    console.log(data.errors);\r\n  },\r\n\r\n  hoverError(error: IriscError) {\r\n    data.hoveredError = error;\r\n  },\r\n\r\n  unhoverError() {\r\n    data.hoveredError = null;\r\n  },\r\n\r\n  setRegister: function (register: Register, value: number) {\r\n    if (register === Register.PC) data.previousPC = data.cpu.registers[Register.PC];\r\n    Vue.set(data.cpu.registers, register, value);\r\n\r\n    this.observeRegisters();\r\n  },\r\n\r\n  observeRegisters: function () {\r\n    data.cpu.observableRegisters = [...data.cpu.registers];\r\n  },\r\n\r\n  checkFlags: function (cond: Condition) : boolean {\r\n    let bits = bitset(4, cond);\r\n    let cpsr = data.cpu.cpsr;\r\n\r\n    let result: boolean = false;\r\n    switch(cond) {\r\n      case Condition.EQ: case Condition.NE:                       // equality\r\n        result = cpsr[Flag.Z]; break;\r\n      case Condition.CS: case Condition.CC:\r\n        result = cpsr[Flag.C]; break;\r\n      case Condition.MI: case Condition.PL:\r\n        result = cpsr[Flag.N]; break;\r\n      case Condition.VS: case Condition.VC:\r\n        result = cpsr[Flag.V]; break;\r\n      case Condition.HI: case Condition.LS:\r\n        result = cpsr[Flag.C] && !cpsr[Flag.Z]; break;\r\n      case Condition.GE: case Condition.LT:\r\n        result = cpsr[Flag.N] == cpsr[Flag.V]; break;\r\n      case Condition.GT: case Condition.LE:\r\n        result = (cpsr[Flag.N] == cpsr[Flag.V]) && !cpsr[Flag.Z]; break;\r\n      default:\r\n        return true;                                          // AL flag returns true regardless\r\n    }\r\n\r\n    if (bits[0] === 1) result = !result;\r\n    return result;                                   \r\n  },\r\n  \r\n  setFlags: function (op1: number, op2: number, result: number, operator: string = \" \") {\r\n    let sign1: number = bitset(32, op1)[31];                          // sign of left hand operand\r\n    let sign2: number = bitset(32, op2)[31];                          // sign of right hand operand\r\n    let signr: number = bitset(32, result)[31];                       // sign of result\r\n    let result_ext: number[] = bitset(33, result);                    // msb = carry bit\r\n\r\n    Vue.set(data.cpu.cpsr, Flag.N, result_ext[31] === 1);             // msb = 1\r\n    Vue.set(data.cpu.cpsr, Flag.Z, (result & 0xffffffff) === 0);      // first 32 bits are 0\r\n    Vue.set(data.cpu.cpsr, Flag.C, result_ext[32] === 1);             // unsigned overflow            \r\n\r\n    if (operator == '+') {\r\n      Vue.set(data.cpu.cpsr, Flag.V, sign1 === sign2 && sign1 !== signr);       // two operands of the same sign result in changed sign\r\n    }\r\n    else if (operator == '-') {\r\n      Vue.set(data.cpu.cpsr, Flag.V, sign1 !== sign2 && sign2 === signr);       // signs different and result sign same as subtrahend \r\n    }\r\n  },\r\n\r\n  addInstruction: function (instruction: TInstructionNode) {\r\n    data.memory.text.push(instruction);\r\n\r\n    console.log(data.memory.text);\r\n  },\r\n\r\n  addLabel: function (label: string, address: number) {\r\n    Vue.set(data.memory.labels, label, address);\r\n  },\r\n\r\n  hasLabel: function (label: string) : boolean {\r\n    return data.memory.labels[label] !== undefined;\r\n  },\r\n\r\n  label: function (label: string) : number {\r\n    return data.memory.labels[label];\r\n  },\r\n\r\n  clearMemory: function () {\r\n    data.memory.memstart = 0;\r\n    data.memory.text = [];\r\n    data.memory.labels = {};\r\n\r\n    data.errors = [];\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  ...actions,\r\n  ...getters\r\n}","export enum Directive {\r\n  TEXT, DATA, GLOBAL\r\n}\r\n\r\nexport const directiveMap: Record<string, Directive> = {\r\n  \".text\": Directive.TEXT,\r\n  \".data\": Directive.DATA,\r\n  \".global\": Directive.GLOBAL\r\n}","import { Token } from 'prismjs';\r\n\r\n/**\r\n * Base error class which provides the basis for catching specific syntax errors\r\n */\r\nexport class IriscError extends Error {\r\n  message: string;\r\n  statement: Token[];\r\n  lineNumber: number;\r\n  tokenIndex: number;\r\n\r\n  get type() : string { return 'IriscError'; }\r\n \r\n  constructor(message: string, statement: Token[], lineNumber: number, tokenIndex: number) {\r\n    super();\r\n    this.message = message;\r\n    this.statement = statement;\r\n    this.lineNumber = lineNumber;\r\n    this.tokenIndex = tokenIndex;\r\n  }\r\n\r\n  constructHelper() : string {\r\n    return `${this.lineNumber} : ${this.tokenIndex} ${this.message}`;\r\n  }\r\n}\r\n\r\n/**\r\n * General parser error - unparseable tokens\r\n */\r\n export class ParserError extends IriscError {\r\n  get type() : string { return 'ParserError'; }\r\n\r\n  constructor(message: string, statement: Token[], lineNumber: number, tokenIndex: number) {\r\n    super(message, statement, lineNumber, tokenIndex);\r\n    // this.errorType = \"Syntax Error\"\r\n  }\r\n} \r\n\r\n\r\n/**\r\n * General syntax error - incorrect token placement\r\n */\r\nexport class SyntaxError extends IriscError {\r\n  get type() : string { return 'SyntaxError'; }\r\n\r\n  constructor(message: string, statement: Token[], lineNumber: number, tokenIndex: number) {\r\n    super(message, statement, lineNumber, tokenIndex);\r\n    // this.errorType = \"Syntax Error\"\r\n  }\r\n} \r\n\r\n/**\r\n * Numerical error - too large or impossible as an immediate\r\n */\r\nexport class NumericalError extends IriscError {\r\n  get type() : string { return 'NumericalError'; }\r\n\r\n  constructor(message: string, statement: Token[], lineNumber: number, tokenIndex: number) {\r\n    super(message, statement, lineNumber, tokenIndex);\r\n    // this.errorType = \"Numerical Error\"\r\n  }\r\n}\r\n\r\n/**\r\n * Error during assembly\r\n */\r\nexport class AssemblyError extends IriscError {\r\n  get type() : string { return 'AssemblyError'; }\r\n\r\n  constructor(message: string, statement: Token[], lineNumber: number, tokenIndex: number) {\r\n    super(message, statement, lineNumber, tokenIndex);\r\n    // this.errorType = \"Assembly Error\"\r\n  }\r\n}\r\n\r\n/**\r\n * Error during runtime\r\n */\r\nexport class RuntimeError extends IriscError {\r\n  get type() : string { return 'RuntimeError'; }\r\n\r\n  constructor(message: string, statement: Token[], tokenIndex: number, lineNumber: number) {\r\n    super(message, statement, tokenIndex, lineNumber);\r\n    // this.errorType = \"Runtime Error\"\r\n  }\r\n}\r\n\r\n// /**\r\n//  * LexicalError is slightly different from other errors in that its problem refers to a character within a\r\n//  */\r\n// export class LexicalError extends Error {\r\n//   errorType: string = \"Lexical Error\";\r\n//   message: string;\r\n//   statement: string;\r\n//   symbolIndex: number;\r\n\r\n//   constructor(message: string, statement: string, symbolIndex: number) {\r\n//     super();\r\n//     this.message = message;\r\n//     this.statement = statement;\r\n//     this.symbolIndex = symbolIndex;\r\n//   }\r\n// }\r\n","import { Token } from 'prismjs';\r\nimport { SyntaxError, NumericalError } from '../error'\r\nimport { Register, regMap } from '@/constants';\r\nimport { ffs, fls, rotr } from '@/assets/bitset';\r\n\r\n/** Ancestor class which defines common functions for all child syntax nodes */\r\nexport class SyntaxNode {\r\n  protected _statement: Token[];\r\n  protected _lineNumber: number;\r\n  protected _currentToken: number;\r\n\r\n  // getters\r\n  get statement(): Token[] { return this._statement; }\r\n  get lineNumber(): number { return this._lineNumber; }\r\n\r\n  /**\r\n   * \r\n   * @param statement \r\n   * @param lineNumber \r\n   * @param currentToken \r\n   */\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    this._statement = statement;\r\n    this._lineNumber = lineNumber;\r\n    this._currentToken = currentToken;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns \r\n   */\r\n  nextToken(): Token {\r\n    if (this._currentToken < this._statement.length)\r\n      return this._statement[this._currentToken++];\r\n    else throw new SyntaxError(\"Unexpected instruction end '\" + this._statement[this._statement.length - 1].content + \"'.\", this._statement, this._lineNumber, this._statement.length - 1);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns \r\n   */\r\n  peekToken(): Token {\r\n    if (this._currentToken < this._statement.length)\r\n      return this._statement[this._currentToken];\r\n    else throw new SyntaxError(\"Unexpected instruction end '\" + this._statement[this._statement.length - 1].content + \"'.\", this._statement, this._lineNumber, this._statement.length - 1);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @returns \r\n   */\r\n  hasToken(): boolean {\r\n    if (this._currentToken < this._statement.length) return true;\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param token \r\n   * @returns \r\n   */\r\n  parseComma(token: Token): boolean {\r\n    if (token.type == \"comma\") return true;\r\n    else throw new SyntaxError(\"COMMA expected between operands - received \" + token.type + \" '\" + token.content + \"', instead.\", this._statement, this._lineNumber, this._currentToken - 1);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param token \r\n   * @returns \r\n   */\r\n  parseReg(token: Token): Register {\r\n    if (token.type == \"register\") return regMap[token.content as string];\r\n    else throw new SyntaxError(\"REGISTER expected - received \" + token.type.toUpperCase() + \" '\" + token.content + \"' instead.\", this._statement, this._lineNumber, this._currentToken - 1);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param token \r\n   * @param bits \r\n   * @returns \r\n   */\r\n  parseImm(token: Token, bits?: number): number {\r\n    let base: number = 0;\r\n    let start: number;\r\n    let reveresedToken = [...(token.content as string)].reverse();\r\n\r\n    if (token.alias == \"bin\") {\r\n      base = 2;\r\n      start = reveresedToken.findIndex(e => !\"01\".includes(e));\r\n    }\r\n    else if (token.alias == \"oct\") {\r\n      base = 8;\r\n      start = reveresedToken.findIndex(e => !\"01234567\".includes(e));\r\n    }\r\n    else if (token.alias == \"dec\") {\r\n      base = 10;\r\n      start = reveresedToken.findIndex(e => !\"0123456789\".includes(e));\r\n    }\r\n    else if (token.alias == \"hex\") {\r\n      base = 16;\r\n      start = reveresedToken.findIndex(e => !\"0123456789abcdef\".includes(e));\r\n    }\r\n    else throw new SyntaxError(\"IMMEDIATE value expected - received \" + token.type.toUpperCase() + \" '\" + token.content + \"' instead.\", this._statement, this._lineNumber, this._currentToken);\r\n\r\n    start = reveresedToken.length - start;\r\n    let imm: number = parseInt((token.content as string).slice(start), base);\r\n\r\n    if (!bits || imm < Math.pow(2, bits)) return imm;\r\n    else throw new NumericalError(\"IMMEDIATE value '\" + token.content + \"' (decimal \" + imm + \") is greater than the \" + bits + \"-bit maximum.\", this._statement, this._lineNumber, this._currentToken)\r\n    \r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param token \r\n   * @param bits \r\n   * @returns \r\n   */\r\n  parseShiftedImm(token: Token, bits: number): [number, number] {\r\n    console.log(bits);\r\n\r\n    let imm: number = this.parseImm(token);\r\n    let shift = 0;\r\n\r\n    if (imm == 0) return [imm, shift];    // return [0, 0] if imm == 0 (short circuit)\r\n\r\n    let bottombit: number = ffs(imm);\r\n    let topbit: number = fls(imm);\r\n\r\n    console.log(topbit, bottombit);\r\n\r\n    if (topbit > 31)\r\n      throw new NumericalError(`IMMEDIATE value '${token.content}' (decimal ${imm}) cannot be represented in 32 bits.`, this._statement, this._lineNumber, this._currentToken);\r\n    if ((topbit - bottombit) > bits)\r\n      throw new NumericalError(`IMMEDIATE value '${token.content}' (decimal ${imm}) cannot be implicitly represented with a maximum set-bit width of ${bits}.`, this._statement, this._lineNumber, this._currentToken);\r\n    \r\n    if (topbit > bits) { \r\n      imm = rotr(imm, topbit - 7);\r\n      shift = 32 - (topbit - 7);\r\n    }\r\n      \r\n    return [imm, shift];\r\n  }\r\n\r\n}","import { Token } from 'prismjs';\r\nimport { SyntaxNode } from \"./SyntaxNode\";\r\nimport { Operation, Condition, opMap } from '@/constants';\r\n\r\n/** Ancestor class for all instruction-type syntax nodes (Bi/TriOperandNode etc.) */\r\nexport abstract class InstructionNode extends SyntaxNode {\r\n  protected abstract _op: Operation;\r\n  protected abstract _cond: Condition;\r\n  protected abstract _setFlags: boolean;\r\n\r\n  // getters\r\n  get op(): Operation { return this._op; }\r\n  get cond(): Condition { return this._cond; }\r\n  get setFlags(): boolean { return this._setFlags; }\r\n\r\n  /**\r\n   * \r\n   * @param token \r\n   * @returns \r\n   */\r\n  protected splitOpCode(token: Token): [string, string, string] {\r\n    let operation: string = \"\";\r\n    let modifier: string = \"\";\r\n    let condition: string = \"\";\r\n\r\n    let forceFlags: string[] = [ \"cmp\", \"cmn\", \"tst\", \"teq\" ];\r\n\r\n    operation = Object.keys(opMap).find(e => (token.content as string).slice(0, e.length) === e) ?? \"\";\r\n\r\n    let suffix: string = (token.content as string).substring(operation.length);\r\n    if (suffix.length === 1 || suffix.length === 3) {\r\n      modifier = suffix[0];\r\n      suffix = suffix.substring(1);\r\n    }\r\n    condition = suffix;\r\n\r\n    if (forceFlags.includes(operation)) modifier = \"s\";\r\n\r\n    return [operation, modifier, condition];\r\n  }\r\n}","import { SyntaxNode } from \"./SyntaxNode\";\r\nimport { Directive, directiveMap } from \"@/constants/directives\";\r\nimport { Token } from \"prismjs\";\r\nimport { SyntaxError } from \"../error\";\r\n\r\nexport class DirectiveNode extends SyntaxNode {\r\n  private directive: Directive;\r\n\r\n  get isText() : boolean { return this.directive === Directive.TEXT; }\r\n  get isData() : boolean { return this.directive === Directive.DATA; }\r\n  get isGlobal() : boolean { return this.directive === Directive.GLOBAL; }\r\n\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    if (directiveMap[this.peekToken().content as string]) {\r\n      this.directive = directiveMap[this.nextToken().content as string];\r\n    }\r\n    else throw new SyntaxError(`Unrecognised directive '${this.peekToken().content}'.`, statement, lineNumber, currentToken);\r\n    \r\n    if (this.hasToken()) throw new SyntaxError(`Unexpected token '${this.peekToken().content}' after valid section declaration end.`, statement, lineNumber, currentToken + 1);\r\n  }\r\n}","import { SyntaxNode } from \"./SyntaxNode\";\r\nimport { SyntaxError } from \"../error\";\r\nimport { Token } from \"prismjs\";\r\n\r\nexport class LabelNode extends SyntaxNode {\r\n  protected _identifier: string;\r\n\r\n  get identifier() : string { return this._identifier; }\r\n\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    this._identifier = (this.nextToken().content as string).slice(0, -1);\r\n\r\n    if (this.hasToken()) throw new SyntaxError(`Unexpected token '${this.peekToken().content}' after valid data declaration end.`, statement, lineNumber, currentToken);\r\n  }\r\n}","import { Token } from 'prismjs';\r\nimport { SyntaxNode } from \"./SyntaxNode\";\r\nimport { SyntaxError } from '../error';\r\nimport { Register, Operation, Condition, Shift, regMap, opMap, condMap, shiftMap, OperandType } from '@/constants';\r\nimport { ffs, fls, rotr } from '@/assets/bitset';\r\nimport { TRegOrImm } from './types';\r\n\r\nexport class FlexOperand extends SyntaxNode {\r\n  protected _Rm: TRegOrImm;\r\n  protected _Rs: TRegOrImm | undefined;\r\n  protected _shift: Shift | undefined;\r\n  protected _immShift: number = 0;\r\n\r\n  protected _type: OperandType | undefined;\r\n  protected _shiftType: OperandType | undefined;\r\n\r\n  get isReg() { return this._type === OperandType.REGISTER; }\r\n  get isImm() { return this._type === OperandType.IMMEDIATE; }\r\n  get shifted() { return this._Rs !== undefined; }\r\n  get shiftedByReg() { return this._shiftType === OperandType.REGISTER; }\r\n  get shiftedByImm() { return this._shiftType === OperandType.IMMEDIATE; }\r\n\r\n  /**\r\n   * \r\n   * @param statement \r\n   * @param lineNumber \r\n   * @param currentToken \r\n   */\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    this.parseComma(this.nextToken());\r\n    let [value, type] = this.parseRegOrImm();      // parse immediate with default 8 bits (with extended 4 bit shift)\r\n    this._Rm = value;\r\n    this._type = type;\r\n\r\n    if (this.isReg && this.hasToken()) this.parseShift();\r\n\r\n    if (this.hasToken()) throw new SyntaxError(`Unexpected token '${this.peekToken().content}' after valid instruction end.`, this._statement, this._lineNumber, this._currentToken + 1);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param immBits \r\n   * @returns \r\n   */\r\n  parseRegOrImm(immBits: number = 8): [Register | number, OperandType] {\r\n    let flex: Register | number | undefined;\r\n    let type: OperandType | undefined;\r\n\r\n    try { \r\n      flex = this.parseReg(this.peekToken()); \r\n      type = OperandType.REGISTER\r\n    }\r\n    catch (e) { if (!(e instanceof SyntaxError)) throw e }  // rethrow if not syntax error\r\n\r\n    if (flex === undefined) {\r\n      try { \r\n        if (immBits == 8) {\r\n          const [imm, shift] = this.parseShiftedImm(this.peekToken(), immBits);\r\n          flex = imm;\r\n          this._immShift = shift\r\n        }\r\n        else flex = this.parseImm(this.peekToken(), immBits);\r\n\r\n        type = OperandType.IMMEDIATE;\r\n      }\r\n      catch (e) { if (!(e instanceof SyntaxError)) throw e }  // rethrow if not syntax error\r\n    }\r\n\r\n    if (flex === undefined || type === undefined) \r\n      throw new SyntaxError(`Expected either REGISTER or IMMEDIATE value - received ${this.peekToken().type.toUpperCase()} '${this.peekToken().content}' instead.`, this._statement, this._lineNumber, this._currentToken); \r\n\r\n    this.nextToken();   // advance to the next token as parse attempts only peeked\r\n\r\n    return [flex, type];\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  parseShift() {\r\n    this.parseComma(this.nextToken());\r\n    if (this.peekToken().type === \"shift\") {\r\n      this._shift = shiftMap[this.nextToken().content as string]\r\n    }\r\n    else throw new SyntaxError(`The comma after the final operand indicates an optional shift, but no shift was found.`, this._statement, this._lineNumber, this._currentToken);\r\n    \r\n    let [value, type] = this.parseRegOrImm(5);     // parse immediate with a max length of 5 bits\r\n    this._Rs = value;\r\n    this._shiftType = type;\r\n  }\r\n\r\n  unpack() : [TRegOrImm, Shift | undefined, TRegOrImm | undefined, number] {\r\n    return [ \r\n      this._Rm, \r\n      this._shift, \r\n      this._Rs, \r\n      this._immShift \r\n    ];\r\n  }\r\n}","import { Token } from 'prismjs';\r\nimport { InstructionNode } from './InstructionNode';\r\nimport { FlexOperand } from './FlexOperand';\r\nimport { Register, Operation, Condition, opMap, condMap } from '@/constants';\r\n\r\n\r\n/** Class which holds all the information required to execute a bi-operand instruction */\r\nexport class BiOperandNode extends InstructionNode {\r\n  protected _op: Operation;\r\n  protected _cond: Condition;\r\n  protected _setFlags: boolean;\r\n  protected _Rd: Register;\r\n  protected _flex: FlexOperand;\r\n\r\n  /**\r\n   * Responsible for ensuring that the passed information fits the required format\r\n   * for a bi-operand instruction.\r\n   * @param statement the statement to be parsed\r\n   * @param lineNumber the line number of the statement (for debugging)\r\n   * @param currentToken the index of the token to start parsing from\r\n   */\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    const [operation, modifier, condition] = this.splitOpCode(this.nextToken());\r\n    this._op = opMap[operation];\r\n    this._setFlags = modifier.length === 0 ? false : true;\r\n    this._cond = condMap[condition];\r\n\r\n    this._Rd = this.parseReg(this.nextToken());\r\n\r\n    this.peekToken();                                              // peek next token to see if it exists\r\n    this._flex = new FlexOperand(statement, lineNumber, this._currentToken);          // parsing delegated to FlexOperand constructor\r\n  }\r\n\r\n  unpack() : [Operation, Condition, boolean, Register, FlexOperand] {\r\n    return [\r\n      this._op,\r\n      this._cond,\r\n      this._setFlags,\r\n      this._Rd,\r\n      this._flex\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * TODO: implement for explanation section\r\n   */\r\n  assemble() {}\r\n}","import { Token } from 'prismjs';\r\nimport { InstructionNode } from './InstructionNode';\r\nimport { FlexOperand } from './FlexOperand';\r\nimport { Register, Operation, Condition, opMap, condMap } from '@/constants';\r\n\r\n\r\n/** Class which holds all the information required to execute a bi-operand instruction */\r\nexport class TriOperandNode extends InstructionNode {\r\n  protected _op: Operation = Operation.ADD;\r\n  protected _cond: Condition = Condition.AL;\r\n  protected _setFlags: boolean = false;\r\n  protected _Rd: Register;\r\n  protected _Rn: Register;\r\n  protected _flex: FlexOperand;\r\n\r\n  /**\r\n   * Responsible for ensuring that the passed information fits the required format\r\n   * for a tri-operand instruction.\r\n   * @param statement the statement to be parsed\r\n   * @param lineNumber the line number of the statement (for debugging)\r\n   * @param currentToken the index of the token to start parsing from\r\n   */\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    const [operation, modifier, condition] = this.splitOpCode(this.nextToken());\r\n    this._op = opMap[operation];\r\n    this._setFlags = modifier.length === 0 ? false : true;\r\n    this._cond = condMap[condition];\r\n\r\n    this._Rd = this.parseReg(this.nextToken());\r\n    this.parseComma(this.nextToken());\r\n    this._Rn = this.parseReg(this.nextToken());\r\n\r\n    this.peekToken();                                              // peek next token to see if it exists\r\n    this._flex = new FlexOperand(statement, lineNumber, this._currentToken);          // parsing delegated to FlexOperand constructor\r\n  }\r\n\r\n  unpack() : [Operation, Condition, boolean, Register, Register, FlexOperand] {\r\n    return [\r\n      this._op,\r\n      this._cond, \r\n      this._setFlags,\r\n      this._Rd,\r\n      this._Rn,\r\n      this._flex\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * TODO: implement for explanation section\r\n   */\r\n  assemble() {}\r\n}","import { Condition, condMap, Operation, opMap, Register } from \"@/constants\";\r\nimport { Token } from \"prismjs\";\r\nimport { InstructionNode } from \"./InstructionNode\";\r\nimport { SyntaxError } from \"../error\";\r\nimport { TBranchAddress } from \"./types\";\r\n\r\n\r\nexport class BranchNode extends InstructionNode {\r\n  protected _op: Operation;\r\n  protected _cond: Condition;\r\n  protected _setFlags: boolean;\r\n  protected _Rd: TBranchAddress;\r\n  // protected _offset: number;\r\n\r\n  constructor(statement: Token[], lineNumber: number, currentToken: number = 0) {\r\n    super(statement, lineNumber, currentToken);\r\n\r\n    const [operation, modifier, condition] = this.splitOpCode(this.nextToken());\r\n    this._op = opMap[operation];\r\n    this._setFlags = modifier.length === 0 ? false : true;\r\n    this._cond = condMap[condition];\r\n\r\n    if (this.peekToken().type === \"register\") \r\n      this._Rd = this.parseReg(this.peekToken());\r\n\r\n    else if (this.peekToken().type === \"op-label\") \r\n      this._Rd = this.peekToken().content as string;\r\n\r\n    else throw new SyntaxError(`Expected either REGISTER or LABEL value - received '${this.peekToken().type}' ${this.peekToken().content}' instead.`, statement, lineNumber, currentToken);\r\n\r\n    this.nextToken();\r\n    if (this.hasToken()) throw new SyntaxError(`Unexpected token '${this.peekToken().content}' after valid instruction end.`, statement, lineNumber, currentToken + 1);\r\n  }\r\n\r\n  unpack() : [Operation, Condition, TBranchAddress] {\r\n    return [\r\n      this._op,\r\n      this._cond,\r\n      this._Rd\r\n    ]\r\n  }\r\n}","import { languages, Token, tokenize } from 'prismjs';\r\nimport { BiOperandNode, DirectiveNode, InstructionNode, LabelNode, SyntaxNode, TriOperandNode } from './syntax';\r\nimport { AssemblyError, IriscError, SyntaxError } from './error';\r\nimport { EmulatorState } from '@/state';\r\nimport { Register } from '@/constants';\r\nimport { BranchNode } from './syntax/BranchNode';\r\n\r\n/**\r\n * \r\n * @param program \r\n * @returns \r\n */\r\nfunction parse(program: string) : Token[][] {\r\n  return tokenize(program, languages.armv7).reduce((a, e) => {\r\n\r\n    // capture important tokens\r\n    if (e instanceof Token) {\r\n      // create new line if end token (\\n)\r\n      if (e.type === \"end\") a.push([]);\r\n\r\n      // push valid token into current line\r\n      else if (e.type !== \"whitespace\") {\r\n        a[a.length - 1].push(e); \r\n      }\r\n    }\r\n\r\n    // reduce\r\n    return a;\r\n  }, [[]] as Token [][]);\r\n}\r\n\r\n/**\r\n * \r\n * @param lines \r\n * @returns \r\n */\r\nfunction compile(lines: Token[][]): SyntaxNode[] {\r\n  return lines.reduce((a: SyntaxNode[], e: Token[], i: number) => {\r\n    let node: SyntaxNode | null = compileOne(e, i);\r\n    if (node !== null) a.push(node);\r\n    \r\n    return a;\r\n  }, [] as SyntaxNode[]);\r\n}\r\n\r\n/**\r\n * \r\n * @param line \r\n * @param lineNumber \r\n * @returns \r\n */\r\nfunction compileOne(line: Token[], lineNumber: number) : SyntaxNode | null {\r\n  if (line.length === 0) return null;\r\n\r\n  try {\r\n    if (line[0].type === \"bi-operand\") {\r\n      return new BiOperandNode(line, lineNumber, 0);\r\n    }\r\n    if (line[0].type === \"tri-operand\") {\r\n      return new TriOperandNode(line, lineNumber, 0);\r\n    }\r\n    // if (line[0].type === \"shift\") {\r\n    //   return new ShiftNode(line, lineNumber, 0);\r\n    // }\r\n    if (line[0].type === \"branch\") {\r\n      return new BranchNode(line, lineNumber, 0);\r\n    }\r\n    if (line[0].type === \"label\") {\r\n      if (line.length === 1) return new LabelNode(line, lineNumber, 0);\r\n      // else return new syntax::AllocationNode(statement);\r\n    }\r\n\r\n    if (line[0].type === \"op-label\") {\r\n      throw new SyntaxError(\"Invalid label-like token detected, did you forget a colon?\", line, lineNumber, 0);\r\n    }\r\n  }\r\n  catch (e) {\r\n    if (e instanceof IriscError) {\r\n      console.log(e);\r\n      EmulatorState.addError(e);\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n/**\r\n * \r\n * @param nodes \r\n */\r\nfunction load(nodes: (SyntaxNode | null)[]) {\r\n  enum Mode { Text, Data }\r\n\r\n  let mode: Mode = Mode.Text;\r\n  nodes.forEach((node, index) => {\r\n    if (node instanceof DirectiveNode) {\r\n      if (node.isText) mode = Mode.Text;\r\n      if (node.isData) mode = Mode.Data;\r\n    }\r\n\r\n    else if (node instanceof LabelNode) {\r\n      if (mode !== Mode.Text) throw new AssemblyError(\"Cannot declare branchable labels outside of the text section.\", node.statement, node.lineNumber, -1);\r\n\r\n      if (EmulatorState.hasLabel(node.identifier)) {\r\n        throw new AssemblyError(`Cannot declare multiple labels with the same name: '${node.identifier}'.`, node.statement, node.lineNumber, 0);\r\n      }\r\n      else EmulatorState.addLabel(node.identifier, EmulatorState.memory().textSize * 32);\r\n    }\r\n\r\n    // TODO: memory allocation validation\r\n    // if (node instanceof AllocationNode) {\r\n    //  if (mode !== Mode.Data) throw new AssemblyError(\"Cannot declare data allocations outside of the .data section.\", node.statement, node.lineNumber, -1)\r\n    // }\r\n\r\n    else if (node instanceof InstructionNode) {\r\n      console.log(node.statement[0].type);\r\n      if (mode !== Mode.Text) throw new AssemblyError(\"Cannot declare instructions outside of the .text section.\", node.statement, node.lineNumber, -1);\r\n\r\n      EmulatorState.addInstruction(node);\r\n    }\r\n  });\r\n}\r\n\r\nexport { parse, compile, load }","\r\nexport function debounce(fn: Function, ms = 300) {\r\n  let timeoutId: ReturnType<typeof setTimeout>;\r\n  return function (this: any, ...args: any[]) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => fn.apply(this, args), ms);\r\n  };\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport { EmulatorState } from \"@/state\";\r\nimport { parse, compile, load } from \"@/classes/assembler\";\r\nimport { debounce } from \"@/assets/functions\";\r\n\r\nimport { PrismEditor } from 'vue-prism-editor'\r\nimport 'vue-prism-editor/dist/prismeditor.min.css';\r\n\r\n\r\nimport { highlight, languages } from 'prismjs';\r\n// import '../assets/prism-armv7';\r\nimport 'prismjs/themes/prism.css'; // import syntax highlighting styles\r\nimport { IriscError } from '@/classes/error';\r\nimport { TInstructionNode } from '@/classes/syntax/types';\r\nimport { Register } from '@/constants';\r\n\r\nexport default Vue.extend({\r\n  name: 'editor',\r\n  components: {\r\n    PrismEditor\r\n  },\r\n  data() {\r\n    return {\r\n      program: '' as string,\r\n      tooltip: {\r\n        // index: null as number | null,\r\n        title: '' as string,\r\n        message: '' as string\r\n      },\r\n\r\n      hovered: false as boolean\r\n    }\r\n  },\r\n  computed: {\r\n    errors: EmulatorState.errors,\r\n    running: EmulatorState.running,\r\n    currentInstruction: EmulatorState.currentInstruction\r\n  },\r\n  methods: {\r\n    stop: function () {\r\n      EmulatorState.stop();\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    hover: function (e: any) {\r\n      // console.log(e);\r\n      this.hovered = true;\r\n\r\n      if (e.target.parentNode.className === \"token error\") {\r\n        let errorIndex = e.target.parentNode.dataset[\"errorIdx\"] as number;\r\n        let error = this.errors[errorIndex];\r\n\r\n        this.tooltip = {\r\n          title: error.type,\r\n          message: error.message\r\n        }\r\n      }\r\n      else {\r\n        this.tooltip = {\r\n          message: '',\r\n          title: ''\r\n        };\r\n      }\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    unhover: function (e: MouseEvent) {\r\n      this.hovered = false;\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    highlighter: function (program: string) {\r\n      // initial ARMv7 syntax highlighting from file\r\n      let highlit: string = highlight(program, languages.armv7, 'ARMv7');\r\n      if (highlit.length === 0) return \"\";\r\n\r\n      // deconstruct program to lines\r\n      let lines = highlit.split(`<span class=\"token end\">\\n</span>`);\r\n\r\n      // deconstruct lines to tokens\r\n      let tokens = lines.map(e => e.match(/<span.*?<\\/span>\\s*/gim) ?? []);\r\n\r\n      // squiggly underline token errors\r\n      this.highlightErrors(tokens);\r\n\r\n      // reconstruct highlit tokens to lines\r\n      lines = tokens.map(e => (e as string[]).join(\"\"));\r\n      this.highlightExecuting(lines);\r\n      \r\n      // reconstruct highlit lines to program\r\n      return lines.join(`<span class=\"token end\">\\n</span>`);\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    highlightErrors: function (elements: RegExpMatchArray[]) {\r\n      this.errors.forEach((error, index) => {\r\n        let line = elements[error.lineNumber];\r\n\r\n        let filteredIndex: number = -1;\r\n        let tokenIndex = line?.findIndex((e, i) => {\r\n          if (!e.includes(\"whitespace\")) filteredIndex++;\r\n          if (filteredIndex === error.tokenIndex) return true;\r\n        })\r\n        let tokenString = line?.[tokenIndex];\r\n\r\n        if (tokenString !== undefined) {\r\n          line[tokenIndex] = `<span class=\"token error\" data-error-idx=\"${index}\">${tokenString}</span>`;\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    highlightExecuting: function (lines: string[]) {\r\n    \r\n      if (this.running) {\r\n        let executing = lines[this.currentInstruction?.lineNumber];\r\n\r\n        if (executing !== undefined) {\r\n          lines[this.currentInstruction.lineNumber] = `<span class=\"line executing\">${executing}</span>`;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    program: debounce(function(program: string) {\r\n      EmulatorState.clearMemory();\r\n\r\n      let lines = parse(program);\r\n      let nodes = compile(lines);\r\n\r\n      load(nodes);\r\n    }, 500)\r\n  }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./editor.vue?vue&type=template&id=1ddabd88&scoped=true&\"\nimport script from \"./editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./editor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=1ddabd88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ddabd88\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container text-center\"},[_c('div',{staticStyle:{\"line-height\":\"200px\",\"font-size\":\"28px\"}},[_vm._v(\" coming soon \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  name: 'instruction',\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instruction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instruction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./instruction.vue?vue&type=template&id=e41e79f2&scoped=true&\"\nimport script from \"./instruction.vue?vue&type=script&lang=ts&\"\nexport * from \"./instruction.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./instruction.vue?vue&type=style&index=0&id=e41e79f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e41e79f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container text-center\"},[_c('div',{staticStyle:{\"line-height\":\"200px\",\"font-size\":\"28px\"}},[_vm._v(\" coming soon \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nexport default Vue.extend({\r\n  name: 'memory',\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memory.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./memory.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./memory.vue?vue&type=template&id=c5d0ddde&scoped=true&\"\nimport script from \"./memory.vue?vue&type=script&lang=ts&\"\nexport * from \"./memory.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./memory.vue?vue&type=style&index=0&id=c5d0ddde&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5d0ddde\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column container text-left py-3\"},[_vm._l((_vm.registers),function(value,index){return _c('div',{key:index,staticClass:\"register text-truncate\",on:{\"mouseover\":function($event){return _vm.registerTip(index)},\"mouseleave\":_vm.untip}},[_c('span',{staticClass:\"register-name\"},[_vm._v(_vm._s(_vm.regName[index]))]),_vm._v(\" \"+_vm._s(_vm.regstr(value))+\" \")])}),_c('div',{staticClass:\"d-flex register cpsr my-3 pr-0\"},[_c('div',{staticClass:\"flex-grow-1\",on:{\"mouseover\":function($event){return _vm.tip(_vm.cpsrTitle, _vm.cpsrExplain)},\"mouseleave\":_vm.untip}},[_vm._v(\" cpsr \")]),_vm._l((_vm.flagName),function(flag,index){return _c('div',{key:index,staticClass:\"flag\",on:{\"mouseover\":function($event){return _vm.tip(_vm.flagTitle[index], _vm.flagExplain[index])},\"mouseleave\":_vm.untip}},[_c('span',{staticClass:\"flag-name\"},[_vm._v(_vm._s(_vm.flagName[index]))]),_vm._v(\" \"+_vm._s(_vm.flagstr(_vm.cpsr[index]))+\" \")])})],2),_c('div',{staticClass:\"register flex-grow-1\"},[_c('div',[_vm._v(\" \"+_vm._s(_vm.computedTitle)+\" \")]),_c('div',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.computedDescription)+\" \")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport { EmulatorState } from \"@/state\";\r\nimport { Register, regName, regTitle, regExplain, flagName, flagTitle, flagExplain } from \"@/constants\"\r\n\r\nexport default Vue.extend({\r\n  name: 'registers',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data() {\r\n    return {\r\n      regName,\r\n      regTitle,\r\n      regExplain,\r\n\r\n      flagName, \r\n      flagTitle,\r\n      flagExplain,\r\n\r\n      cpsrTitle: \"CPSR Flags\", \r\n      cpsrExplain: \"Four bits in the Current Program Status Register which are used to decide whether a conditional instruction should execute.\",\r\n\r\n      title: null as string | null,\r\n      description: null as string | null\r\n    };\r\n  },\r\n  computed: {\r\n    registers: EmulatorState.registers,\r\n    cpsr: EmulatorState.cpsr,\r\n\r\n    computedTitle() : string {\r\n      return this.title ?? \"Registers\";\r\n    },\r\n\r\n    computedDescription() : string {\r\n      return this.description ?? \"A simplified view of the data currently stored in the CPU. Hover over the different sections to learn about them.\";\r\n    }\r\n  },\r\n  methods: {\r\n    regstr(value: number) : string {\r\n      return `0x${value.toString(16).padStart(8, '0')} (${value})`;\r\n    },\r\n\r\n    hexstr(value: number) : string {\r\n      return `0x${value.toString(16)}`\r\n    },\r\n\r\n    flagstr(value: boolean) : string {\r\n      return value ? '1' : '0';\r\n    },\r\n\r\n    registerTip(reg: Register) {\r\n      let value = this.registers[reg];\r\n      let hexValue = this.hexstr(value);\r\n\r\n      this.tip(\r\n        this.regTitle[reg],\r\n        `${this.regExplain[reg]}\\n\\nDec: ${value}\\nHex: ${hexValue}`\r\n      )\r\n    },\r\n\r\n    tip(title: string, description: string) {\r\n      this.title = title;\r\n      this.description = description\r\n    },\r\n\r\n    untip() {\r\n      this.title = null;\r\n      this.description = null;\r\n    }\r\n  }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registers.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registers.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./registers.vue?vue&type=template&id=13055db6&scoped=true&\"\nimport script from \"./registers.vue?vue&type=script&lang=ts&\"\nexport * from \"./registers.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./registers.vue?vue&type=style&index=0&id=13055db6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13055db6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container px-2\"},[_c('prism-editor',{attrs:{\"id\":\"editor\",\"highlight\":_vm.highlighter,\"tab-size\":4,\"line-numbers\":\"\"},model:{value:(_vm.program),callback:function ($$v) {_vm.program=$$v},expression:\"program\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\n\r\nimport { PrismEditor } from 'vue-prism-editor'\r\nimport 'vue-prism-editor/dist/prismeditor.min.css';\r\n\r\nexport default Vue.extend({\r\n  name: 'repl',\r\n  components: {\r\n    PrismEditor\r\n  },\r\n  data() {\r\n    return {\r\n      program: ''\r\n    }\r\n  },\r\n  methods: {\r\n    highlighter(program: string) {\r\n      console.log(program);\r\n      return program\r\n    }\r\n  }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repl.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repl.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./repl.vue?vue&type=template&id=b5048b5c&scoped=true&\"\nimport script from \"./repl.vue?vue&type=script&lang=ts&\"\nexport * from \"./repl.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./repl.vue?vue&type=style&index=0&id=b5048b5c&scoped=true&lang=css&\"\nimport style1 from \"./repl.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5048b5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container p-2 text-left\"},[_c('div',[_c('div',{staticClass:\"title px-1\"},[_vm._v(_vm._s(_vm.pageData.title))]),_c('div',{staticClass:\"content mt-2 p-1\",domProps:{\"innerHTML\":_vm._s(_vm.pageData.content)}})]),_c('div',{staticClass:\"controls\"},[_c('div',{staticClass:\"p-1\",staticStyle:{\"border-radius\":\"0.3rem\",\"background-color\":\"#191d21\"}},[_c('i',{staticClass:\"fas fa-chevron-left fa-sm p-1 clickable hoverable rounded-sm\"}),_c('span',{staticClass:\"mx-1\"},[_vm._v(_vm._s(_vm.page + 1)+\"/\"+_vm._s(_vm.pages.length))]),_c('i',{staticClass:\"fas fa-chevron-right fa-sm p-1 clickable hoverable rounded-sm\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport { tutorialPages, TTutorialPage } from \"@/constants\";\r\n\r\nexport default Vue.extend({\r\n  name: 'tutorial',\r\n  data() {\r\n    return {\r\n      pages: tutorialPages as TTutorialPage[],\r\n      page: 0 as number\r\n    }\r\n  },\r\n  computed: {\r\n    pageData: function () : TTutorialPage {\r\n      return this.pages[this.page];\r\n    }\r\n  }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutorial.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tutorial.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./tutorial.vue?vue&type=template&id=50262af0&scoped=true&\"\nimport script from \"./tutorial.vue?vue&type=script&lang=ts&\"\nexport * from \"./tutorial.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tutorial.vue?vue&type=style&index=0&id=50262af0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50262af0\",\n  null\n  \n)\n\nexport default component.exports","import { rotr } from \"@/assets/bitset\";\r\nimport { Operation, Register, Shift, Flag } from \"@/constants\";\r\nimport { BiOperandNode, FlexOperand, TriOperandNode } from \"./syntax\";\r\nimport { TInstructionNode } from \"./syntax/types\";\r\nimport { EmulatorState } from \"@/state\";\r\nimport { RuntimeError } from \"./error\";\r\nimport { BranchNode } from \"./syntax/BranchNode\";\r\n\r\n/**\r\n * Local declaration of useful EmulatorState getters with the js object getter\r\n * syntax so that they can be accessed like properties rather than requiring \r\n * the function execution brackets (()).\r\n */\r\nconst state = {\r\n  get registers() { return EmulatorState.registers() },\r\n  get cpsr() { return EmulatorState.cpsr() }\r\n}\r\n\r\n/**\r\n * Wrapper for execution of all instruction-type nodes. The only function which is exported.\r\n * All other functions are private to this file and directly mutate the EmulatorState\r\n * \r\n * @param instruction the instruction to be executed\r\n */\r\nexport function execute(instruction: TInstructionNode) : boolean {\r\n  let executed: boolean = false;\r\n\r\n  // EmulatorState.setRegister(Register.PC, state.registers[Register.PC] + 32);\r\n\r\n  if (instruction instanceof BranchNode) {\r\n    executed = executeBranch(instruction);\r\n\r\n    // // only increment to the next instruction if branch didn't already (not executed)\r\n    if (!executed) EmulatorState.setRegister(Register.PC, state.registers[Register.PC] + 32);\r\n  }\r\n  else {\r\n    EmulatorState.setRegister(Register.PC, state.registers[Register.PC] + 32);\r\n\r\n    if (instruction instanceof BiOperandNode) executed = executeBiOperand(instruction);\r\n    if (instruction instanceof TriOperandNode) executed = executeTriOperand(instruction);\r\n  }\r\n\r\n  return executed;\r\n}\r\n\r\n/**\r\n * \r\n * @param flex \r\n * @returns \r\n */\r\nfunction deflex(flex: FlexOperand) : number {\r\n  let deflex: number;\r\n\r\n  let [Rm, shift, Rs, immShift] = flex.unpack();\r\n  if (flex.isImm) return rotr(Rm as number, immShift);            // return value of immediate (short circuit)\r\n  else deflex = state.registers[Rm as Register];               // get value in register\r\n\r\n  if (flex.shifted) {\r\n    let shiftBy: number;\r\n    if (flex.shiftedByImm) shiftBy = Rs as number;                // get value of immediate shift\r\n    else shiftBy = state.registers[Rs as Register];            // get value in shift register\r\n\r\n    deflex = applyFlexShift(shift as Shift, deflex, shiftBy);     // apply the unpacked shift\r\n  }\r\n  \r\n  return deflex;\r\n}\r\n\r\n/**\r\n * \r\n * @param shift \r\n * @param value \r\n * @param amount \r\n * @returns \r\n */\r\nfunction applyFlexShift(shift: Shift, value: number, amount: number) : number {\r\n  switch(shift) {\r\n    case Shift.LSL:\r\n      return value <<= amount;\r\n    case Shift.LSR:\r\n      if (amount == 0) amount = 32;       // special case for right shifts\r\n      return value >>= amount;\r\n    case Shift.ROR:\r\n      return rotr(value, amount);\r\n    default:\r\n      // TODO: get executing instruction from the EmulatorState and populate the error location params\r\n      throw new RuntimeError(\"While attempting to perform a flex operand optional shift.\", [], -1, -1);\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param instruction \r\n * @returns \r\n */\r\nfunction executeBiOperand(instruction: BiOperandNode) : boolean {\r\n  let [op, cond, set, dest, flex] = instruction.unpack();             // unpack the instruction\r\n  if (!EmulatorState.checkFlags(cond)) return false;                  // returns early if condition code is not satisfied\r\n\r\n  let src: number = deflex(flex);                                     // deflex the flex operand into a single value\r\n  switch(op) {                                                        // check opcode and execute instruction\r\n    case Operation.MOV:\r\n      if (set) EmulatorState.setFlags(state.registers[dest], src, src);\r\n      EmulatorState.setRegister(dest, src);\r\n      break;\r\n    case Operation.MVN:\r\n      if (set) EmulatorState.setFlags(state.registers[dest], -src, -src);\r\n      EmulatorState.setRegister(dest, -src);\r\n      break;\r\n    case Operation.CMP:\r\n      EmulatorState.setFlags(state.registers[dest], src, state.registers[dest] - src, '-');\r\n      break;\r\n    case Operation.CMN:\r\n      EmulatorState.setFlags(state.registers[dest], src, state.registers[dest] + src, '+');\r\n      break;\r\n    case Operation.TST:\r\n      EmulatorState.setFlags(state.registers[dest], src, state.registers[dest] & src);\r\n      break;\r\n    case Operation.TEQ:\r\n      EmulatorState.setFlags(state.registers[dest], src, state.registers[dest] ^ src);\r\n      break;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction executeTriOperand(instruction: TriOperandNode) : boolean {\r\n  let [op, cond, set, dest, src, flex] = instruction.unpack();    // unpack the instruction\r\n  if (!EmulatorState.checkFlags(cond)) return false;                          // returns early if condition code is not satisfied\r\n\r\n  let n = state.registers[src];\r\n  let m = deflex(flex);                                        // deflex the flex operand into a value\r\n  let result: number | undefined;\r\n  switch (op) {                                                      // check opcode and execute instruction\r\n    case Operation.AND:\r\n      if (set) EmulatorState.setFlags(n, m, n & m);\r\n      result = n & m;\r\n      break;\r\n    case Operation.EOR:\r\n      if (set) EmulatorState.setFlags(n, m, n ^ m);\r\n      result = n ^ m;\r\n      break;\r\n    case Operation.ORR:\r\n      if (set) EmulatorState.setFlags(n, m, n | m);\r\n      result = n | m;\r\n      break;\r\n    case Operation.ADD:\r\n      if (set) EmulatorState.setFlags(n, m, n + m, '+');\r\n      result = n + m;\r\n      break;\r\n    case Operation.SUB:\r\n      if (set) EmulatorState.setFlags(n, m, n - m, '-');\r\n      result = n - m;\r\n      break;\r\n    case Operation.RSB:\r\n      if (set) EmulatorState.setFlags(m, n, m - n, '-');\r\n      result = m - n;\r\n      break;\r\n    case Operation.BIC:\r\n      if (set) EmulatorState.setFlags(m, n, n & (~m));\r\n      result = n & (~m);\r\n      break;\r\n    case Operation.ADC:\r\n      result = n + m + (state.cpsr[Flag.C] ? 1 : 0);\r\n      if (set) EmulatorState.setFlags(n, m, n + m + (state.cpsr[Flag.C] ? 1 : 0), '+');\r\n      break;\r\n    case Operation.SBC:\r\n      result = n - m - (state.cpsr[Flag.C] ? 0 : 1);\r\n      if (set) EmulatorState.setFlags(n, m, n - m - (state.cpsr[Flag.C] ? 0 : 1), '-');\r\n      break;\r\n    case Operation.RSC:\r\n      result = m - n - (state.cpsr[Flag.C] ? 0 : 1);\r\n      if (set) EmulatorState.setFlags(n, m, m - n - (state.cpsr[Flag.C] ? 0 : 1), '-');\r\n      break;\r\n  } \r\n\r\n  if (result === undefined) {\r\n    // TODO: get executing instruction from the EmulatorState and populate the error location params\r\n    throw new RuntimeError(\"While attempting to perform a an instruction.\", [], -1, -1);\r\n  }\r\n\r\n  EmulatorState.setRegister(dest, result);\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param instruction \r\n * @returns \r\n */\r\nfunction executeBranch(instruction: BranchNode) : boolean {\r\n  let [op, cond, to] = instruction.unpack();\r\n  if (!EmulatorState.checkFlags(cond)) return false;                          // returns early if condition code is not satisfied\r\n\r\n  let address: number;\r\n  if (typeof to === 'string') address = EmulatorState.label(to as string);\r\n  else address = state.registers[to as Register];\r\n  \r\n  switch (op) {\r\n    case Operation.B:\r\n    case Operation.BX:\r\n      EmulatorState.setRegister(Register.PC, address);\r\n      break;\r\n    case Operation.BL:\r\n      EmulatorState.setRegister(Register.LR, state.registers[Register.PC] + 32);\r\n      EmulatorState.setRegister(Register.PC, address);\r\n      break;\r\n  }\r\n\r\n  console.log(state.registers[Register.PC]);\r\n\r\n  return true;\r\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport { editor, registers, memory, instruction, tutorial } from \"./components\";\r\nimport { Interpreter } from \"@/classes\";\r\nimport { EmulatorState } from \"@/state\";\r\nimport { RuntimeError } from '@/classes/error';\r\nimport { Register } from \"@/constants\"\r\n\r\nimport './assets/generic.css';\r\nimport './assets/syntax.css';\r\nimport { TInstructionNode } from './classes/syntax/types';\r\nimport { BranchNode } from './classes/syntax/BranchNode';\r\n\r\nexport default Vue.extend({\r\n  name: 'emulator',\r\n  components: {\r\n    editor,\r\n    registers,\r\n    memory,\r\n    instruction,\r\n    tutorial\r\n  },\r\n  computed: {\r\n    registers: EmulatorState.registers,\r\n    memory: EmulatorState.memory,\r\n    errors: EmulatorState.errors,\r\n    \r\n    running: EmulatorState.running,\r\n    paused: EmulatorState.paused,\r\n    delay: EmulatorState.delay,\r\n    step: EmulatorState.step,\r\n  },\r\n  methods: {\r\n    /**\r\n     * \r\n     */\r\n    start: function () {\r\n      if (this.running) return;\r\n      \r\n      // reset emulator state\r\n      EmulatorState.reset();\r\n\r\n      // report errors (alert is temporary)\r\n      if (this.errors.length > 0) {\r\n        alert(`This code has errors!\\n\\n\\t${this.errors.map(e => `${e.constructHelper()}`).join(\"\\n\\t\")}`);\r\n        return;\r\n      } \r\n      \r\n      // run the program\r\n      this.run();\r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    run: async function () {\r\n      EmulatorState.setEntryPoint();\r\n      EmulatorState.start();\r\n\r\n      try {\r\n        while(this.running) {\r\n          let node: TInstructionNode = EmulatorState.instruction(this.registers[Register.PC]);\r\n\r\n          // if runtime instruction runoff\r\n          if (node === undefined) {\r\n            let last: TInstructionNode = this.memory.text[this.memory.textSize - 1];\r\n            throw new RuntimeError(\"Segmentation fault (core dumped)\", last.statement, last.lineNumber, -1);\r\n          }\r\n\r\n          Interpreter.execute(node);\r\n\r\n          // check every 50ms to see if speed value has changed\r\n          let sleptfor: number = 0;\r\n          while ((sleptfor < this.delay || this.paused) && this.running && !this.step) {          \r\n            await new Promise(r => setTimeout(r, 50));\r\n            sleptfor += 50;\r\n          }\r\n        }\r\n      }\r\n      catch (e) {\r\n        if (e instanceof RuntimeError) {\r\n          alert(e.message); \r\n          EmulatorState.stop();\r\n        }\r\n      }\r\n    },\r\n\r\n    \r\n  }\r\n})\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./emulator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./emulator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./emulator.vue?vue&type=template&id=7b0f407d&\"\nimport script from \"./emulator.vue?vue&type=script&lang=ts&\"\nexport * from \"./emulator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./emulator.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { languages } from 'prismjs'\r\n// import { Grammar } from \"prismjs\";\r\n\r\nlanguages.armv7 =  {\r\n\t'line-comment': {\r\n\t\tpattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\r\n\t\tgreedy: true\r\n\t},\r\n\t'bi-operand': {\r\n\t\tpattern: /\\b(cmn|cmp|mov|mvn|teq|tst)s?(eq|ne|cs|cc|mi|pl|vs|vc|hi|ls|ge|lt|gt|le|al)?\\b/i,\r\n\t\talias: 'operation'\r\n\t},\r\n\t'tri-operand': {\r\n\t\tpattern: /\\b(adc|add|and|bic|eor|orr|rsb|rsc|sbc|sub)s?(eq|ne|cs|cc|mi|pl|vs|vc|hi|ls|ge|lt|gt|le|al)?\\b/i,\r\n\t\talias: 'operation'\r\n\t},\r\n\t'branch': {\r\n\t\tpattern: /\\b(b|bl|bx)(eq|ne|cs|cc|mi|pl|vs|vc|hi|ls|ge|lt|gt|le|al)?\\b/i,\r\n\t\talias: 'operation'\r\n\t},\r\n\t'shift': {\r\n\t\tpattern: /\\b(lsl|lsr|asr|ror|rrx)(eq|ne|cs|cc|mi|pl|vs|vc|hi|ls|ge|lt|gt|le|al)?\\b/i,\r\n\t\talias: 'operation'\r\n\t},\r\n\t'register': {\r\n\t\tpattern: /\\b(r([0-9]|(10|11|12))|(sp|lr|pc))\\b/i,\r\n\t},\r\n\t'immediate': [\r\n\t\t{ pattern: /#\\b0x(\\d|[a-f])+\\b/i, alias: 'hex' },\r\n\t\t{ pattern: /#\\b0b(0|1)+\\b/i, alias: 'bin' },\r\n\t\t{ pattern: /#\\b0[0-7]+\\b/i, alias: 'oct' },\r\n\t\t{ pattern: /#\\b(0d)?(\\d)+\\b/i, alias: 'dec' }\r\n\t],\r\n\t'number': [\r\n\t\t{ pattern: /\\b0x(\\d|[a-f])+\\b/i, alias: 'hex' },\r\n\t\t{ pattern: /\\b0b(0|1)+\\b/i, alias: 'bin' },\r\n\t\t{ pattern: /\\b0[0-7]+\\b/i, alias: 'oct' },\r\n\t\t{ pattern: /\\b(0d)?(\\d)+\\b/i, alias: 'dec' }\r\n\t],\r\n\t// 'number': /(?:\\b|(?=\\$))(?:0[hx](?:\\.[\\da-f]+|[\\da-f]+(?:\\.[\\da-f]+)?)(?:p[+-]?\\d+)?|\\d[\\da-f]+[hx]|\\$\\d[\\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\\d+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:\\.?e[+-]?\\d+)?[dt]?)\\b/i,\r\n\t'comma': /,/,\r\n\t'label': /\\b[A-Za-z_][A-Za-z_\\d]+\\b:/m,\r\n\t'op-label': /\\b[A-Za-z_][A-Za-z_\\d]+\\b/m,\r\n\t'end': /\\n/m,\r\n\t'whitespace': /\\s+/,\r\n\t'unknown': /.+/\r\n};","import Vue from 'vue'\r\nimport emulator from './emulator.vue'\r\n\r\nimport { BootstrapVue, BootstrapVueIcons } from 'bootstrap-vue'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\r\nimport '@fortawesome/fontawesome-free/css/all.css'\r\n\r\nimport './assets/prism-armv7';\r\n\r\nVue.use(BootstrapVue)\r\nVue.use(BootstrapVueIcons)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(emulator),\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./repl.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./emulator.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./instruction.vue?vue&type=style&index=0&id=e41e79f2&scoped=true&lang=css&\""],"sourceRoot":""}